import React from 'react';
import { StyleSheet, View, Text, Platform, } from 'react-native';

export default function ExploitantCard({ exploitant }) {
    const getStatusColor = (status) => {
      return status === 'Actif' 
        ? { backgroundColor: '#d1fae5', color: '#047857' }
        : { backgroundColor: '#f3f4f6', color: '#374151' };
    };
  
    const getTypeColor = (type) => {
      switch (type) {
        case 'Industrielle':
          return { backgroundColor: '#dbeafe', color: '#1d4ed8' };
        case 'Semi-industrielle':
          return { backgroundColor: '#dcfce7', color: '#15803d' };
        default:
          return { backgroundColor: '#fef3c7', color: '#b45309' };
      }
    };
  
    const typeStyle = getTypeColor(exploitant.typeExploitation);
  
    return (
      <View style={styles.card}>
        <View style={styles.cardHeader}>
          <View>
            <Text style={styles.entrepriseName}>{exploitant.raisonSocial}</Text>
            <Text style={styles.autorisationNumber}>{exploitant.rccm}</Text>
          </View>
          {/*<View style={[styles.badge, { backgroundColor: statusStyle.backgroundColor }]}>
            <Text style={[styles.badgeText, { color: statusStyle.color }]}>
              {exploitant.status}
            </Text>
          </View>*/}
        </View>
  
        <View style={styles.cardBody}>
          <View style={styles.infoRow}>
            <Text style={styles.infoLabel}>Nombre de site d'exploitation :</Text>
            <Text style={styles.infoValue}>{exploitant.zoneExploitations.length}</Text>
          </View>
          <View style={styles.infoRow}>
            <Text style={styles.infoLabel}>Telephone:</Text>
            <Text style={styles.infoValue}>{exploitant.telephone}</Text>
          </View>
          <View style={styles.infoRow}>
            <Text style={styles.infoLabel}>Email:</Text>
            <View style={[styles.badge, { backgroundColor: typeStyle.backgroundColor }]}>
              <Text style={[styles.badgeText, { color: typeStyle.color }]}>
                {exploitant.email}
              </Text>
            </View>
          </View>
        </View>
      </View>
    );
  };

  const styles = StyleSheet.create({
    card: {
        
      backgroundColor: '#ffffff',
      borderRadius: 12,
      padding: 16,
      ...Platform.select({
        ios: {
          shadowColor: '#000',
          shadowOffset: { width: 0, height: 2 },
          shadowOpacity: 0.1,
          shadowRadius: 4,
        },
        android: {
          elevation: 3,
        },
      }),
    },
    cardHeader: {
      flexDirection: 'row',
      justifyContent: 'space-between',
      alignItems: 'flex-start',
      marginBottom: 16,
    },
    entrepriseName: {
      fontSize: 18,
      fontWeight: '600',
      color: '#8B4513',
    },
    autorisationNumber: {
      fontSize: 14,
      color: '#6b7280',
      fontFamily: Platform.select({
        ios: 'Courier',
        android: 'monospace',
      }),
    },
    cardBody: {
        flexDirection:'row',
        flexWrap:'wrap',
        gap: 8,
    },
    infoRow: {
      flexDirection: 'row',
      alignItems: 'center',
    },
    infoLabel: {
      fontSize: 14,
      fontWeight: '800',
      color: '#374151',
      marginRight: 8,
    },
    infoValue: {
      fontSize: 14,
      color: '#6b7280',
    },
    badge: {
      paddingHorizontal: 8,
      paddingVertical: 4,
      borderRadius: 12,
    },
    badgeText: {
      fontSize: 12,
      fontWeight: '500',
    },
    emptyState: {
      padding: 48,
      alignItems: 'center',
    },
    emptyStateText: {
      fontSize: 14,
      color: '#6b7280',
    },
  });